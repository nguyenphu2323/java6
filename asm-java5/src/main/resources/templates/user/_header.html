<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
<style>
  /* Custom UI enhancement */
  .btn-dark,
  .btn-outline-dark {
    border-radius: 50px;
    padding: 6px 18px;
    transition: all 0.3s ease-in-out;
  }

  .btn-outline-dark:hover,
  .btn-dark:hover {
    background-color: #343a40;
    color: #fff;
  }

  .carousel-caption {
    bottom: 100px;
  }

  .form-control:focus {
    border-color: #343a40;
    box-shadow: none;
  }

  .nav-link:hover {
    color: #0d6efd !important;
  }

  .badge {
    font-size: 0.7rem;
  }
</style>
<!-- Header -->
<header class="bg-white shadow-sm sticky-top py-2">
  <div class="container d-flex justify-content-between align-items-center">
    <a class="text-dark fw-bold fs-3 text-decoration-none" th:href="@{/}">
      <i class="bi bi-bag-heart-fill text-danger me-2"></i>SHOP FASHION
    </a>
    <form th:action="@{/search}" method="get" class="d-flex w-50">
      <input type="text" name="q" th:value="${query}" class="form-control rounded-start-pill border-dark-subtle"
        placeholder="Tìm sản phẩm bạn muốn..." />
      <button class="btn btn-dark rounded-end-pill px-4" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>
    <div class="d-flex align-items-center gap-3">
      <a th:href="@{/cart}" class="btn position-relative p-0">
        <i class="bi bi-cart3 fs-4 text-dark"></i>
        <span id="total-cart-items-quantity"
          class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
      </a>

      <div th:if="${session.currentUser != null}">
        <a th:href="@{/account}" class="text-dark text-decoration-none me-2">
          <i class="bi bi-person-circle fs-4"></i>
        </a>
        <a th:href="@{/user/orders}" class="text-dark text-decoration-none me-2">
          <i class="bi bi-list-check fs-4"></i>
        </a>
        <a th:href="@{/signout}" class="btn btn-outline-dark btn-sm">Đăng xuất</a>
      </div>

      <div th:if="${session.currentUser == null}">
        <a class="btn btn-dark btn-sm me-2" th:href="@{/signin}">Đăng nhập</a>
        <a class="btn btn-outline-dark btn-sm" th:href="@{/signup}">Đăng ký</a>
      </div>
    </div>
  </div>
</header>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light border-top border-bottom shadow-sm">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNavbar">
      <ul class="navbar-nav me-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle fw-semibold" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-grid-3x3-gap-fill"></i> Danh mục
          </a>
          <ul class="dropdown-menu">
            <li th:each="loai : ${loais}">
              <a class="dropdown-item" th:href="@{/loai(id=${loai.idLoai})}" th:text="${loai.tenLoai}"></a>
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" th:href="@{/loai-all}">Tất cả danh mục</a>
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/product-new}">Sản phẩm mới</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--Carousel-->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active position-relative">
      <img src="https://upcontent.vn/wp-content/uploads/2024/06/banner-thoi-trang-nam-1-1536x960.jpg"
        class="d-block w-100" style="height: 650px; object-fit: cover" />
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h3 class="text-white">Bộ sưu tập mới 2025</h3>
        <p class="text-light">Khám phá phong cách thời trang độc đáo</p>
        <a th:href="@{/}" class="btn btn-outline-light">Xem ngay</a>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://salt.tikicdn.com/ts/brickv2og/00/50/1b/3cde53d8619069b98772edffe8c5dad1.jpg"
        class="d-block w-100" style="height: 650px; object-fit: cover" />
    </div>
    <div class="carousel-item">
      <img src="https://img3.thuthuatphanmem.vn/uploads/2019/10/14/banner-thoi-trang-the-thao-cho-nam_113858272.jpg"
        class="d-block w-100" style="height: 650px; object-fit: cover" />
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>